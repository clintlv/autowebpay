<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <div id="app">
        <div>
            <div>
                <span>商户订单id：</span>
                <span id="merchantOrderNo" th:text="${merchantOrderNo}" ></span>
            </div>
            <div>
                <span>平台订单id：</span>
                <span id="tranNo" th:text="${tranNo}" ></span>
            </div>
            <div>
                <span>订单交易金额：</span>
                <span id="payAmount" th:text="${payAmount}" ></span>
            </div>
            <div>
                <span>支付地址：</span>
                <span id="payUrl" th:text="${payUrl}" ></span>
            </div>
            <button onclick="submit()">提交</button>
        </div>
    </div>

    <script>
        /**
         * 跳转托管支付页面
         *
         * 1.正常情况下，支付地址所指向的支付页只允许被用户打开一次，该链接被打开一次后，后续开启页签复制页签会导致链接失效无法完成支付
         * 2.如若长时间停留支付页未操作支付，支付链接失效无法完成支付
         * 3.如跳转后页面显示 Domain Validation Failed 说明没有通过域名验证
         * 4.如跳转后页面显示 Missing or Invalid UID 说明支付已经过期
         *
         */
        function submit(){

            var spanElement = document.getElementById('payUrl');
            // 获取span元素内的文本内容（即payUrl的值）
            var payUrlValue = spanElement.textContent || spanElement.innerText; // 兼容不同浏览器

            console.log("payUrl:"+payUrlValue); // 输出：服务器返回的payUrl值

            window.location.href=payUrlValue;

        }
    </script>
</body>
</html>